---
import Layout from "../layouts/Layout.astro";
import ScheduleComponent from "../components/Schedule/Schedule";
---
<Layout title="Schedule">
  <main id="checking" class="p-6">
    <h1>Checking accessâ€¦</h1>
  </main>

  <main id="content" class="hidden">
    <h3>Schedule</h3>
    <ScheduleComponent client:load />
  </main>

  <script>
    import { requireInvited } from "../lib/requireInvite";

    (async () => {
      const checking = document.getElementById("checking");
      const content = document.getElementById("content");

      const ctx = await requireInvited();
      if (!ctx) return;

      checking.classList.add("hidden");
      content.classList.remove("hidden");
    })();
  </script>
</Layout>

<style>
  .hidden { display: none; }
</style>
