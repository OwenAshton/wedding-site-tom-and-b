---
import Layout from "../layouts/Layout.astro";
import GiftsComponent from "../components/Gifts.astro";
---
<Layout title="Gifts">
  <main id="checking" class="p-6">
    <h1>Checking accessâ€¦</h1>
  </main>

  <main id="content" class="hidden">
    <GiftsComponent id="gifts-section" />
  </main>

  <script>
    import { requireInvited } from "../lib/requireInvite";

    (async () => {
      const checking = document.getElementById("checking");
      const content = document.getElementById("content");

      const ctx = await requireInvited();
      if (!ctx) return;

      checking.classList.add("hidden");
      content.classList.remove("hidden");
    })();
  </script>
</Layout>

<style>
  .hidden { display: none; }
</style>
